<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>CrowdConnect - Login</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<script src="https://unpkg.com/lucide@latest"></script>
	<link rel="stylesheet" href="styles.css">
</head>
<body class="min-h-screen bg-black text-white theme-transition">
	<!-- Global Theme Toggle -->
	<div class="fixed top-4 right-4 z-50">
		<button id="btn-theme-global" class="p-2 rounded bg-gray-900 border border-gray-800 hover:text-purple-400">
			<span id="icon-sun-global" data-lucide="sun" width="20" height="20"></span>
			<span id="icon-moon-global" data-lucide="moon" class="hidden" width="20" height="20"></span>
		</button>
	</div>

	<!-- HERO VIEW (public) -->
	<div id="view-hero" class="min-h-screen theme-transition">
		<div class="container mx-auto px-4 py-20">
			<div class="text-center mb-16">
				<h1 class="text-6xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-purple-600 bg-clip-text text-transparent">
					CrowdConnect
				</h1>
				<p class="text-2xl text-purple-300 mb-12">
					Empowering Innovation, One Project at a Time.
				</p>
				<div class="flex gap-4 justify-center">
					<button id="btn-get-started"
						class="bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-all transform hover:scale-105">
						Get Started <span data-lucide="user-plus" class="inline ml-2 align-[-2px]"></span>
					</button>
					<button id="btn-login"
						class="bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-all transform hover:scale-105">
						Login <span data-lucide="log-in" class="inline ml-2 align-[-2px]"></span>
					</button>
				</div>
			</div>

			<div class="grid md:grid-cols-3 gap-8 mt-20">
				<div class="card bg-gray-900 p-6 rounded-lg border border-gray-800 text-center">
					<div class="text-4xl mb-4">‚ú®</div>
					<h3 class="text-xl font-bold mb-2 text-purple-400">Launch Projects</h3>
					<p class="text-gray-400">Share your innovative ideas with the world</p>
				</div>
				<div class="card bg-gray-900 p-6 rounded-lg border border-gray-800 text-center">
					<div class="text-4xl mb-4">üí∞</div>
					<h3 class="text-xl font-bold mb-2 text-purple-400">Raise Funds</h3>
					<p class="text-gray-400">Get support from a global community</p>
				</div>
				<div class="card bg-gray-900 p-6 rounded-lg border border-gray-800 text-center">
					<div class="text-4xl mb-4">ü§ù</div>
					<h3 class="text-xl font-bold mb-2 text-purple-400">Collaborate</h3>
					<p class="text-gray-400">Connect with creators and supporters</p>
				</div>
			</div>

			<div class="text-center mt-20 text-gray-500">
				Made with <span data-lucide="heart" class="inline text-red-500 align-[-3px]" width="16" height="16"></span>
			</div>
		</div>
	</div>

	<!-- AUTH VIEW (public) -->
	<div id="view-auth" class="min-h-screen hidden theme-transition flex items-center justify-center">
		<div class="card bg-gray-900 p-8 rounded-lg border border-gray-800 w-full max-w-md">
			<h2 id="auth-title" class="text-3xl font-bold mb-6 text-center text-purple-400">
				Welcome Back
			</h2>
			<div id="auth-error" class="hidden bg-red-900 text-red-200 p-3 rounded mb-4 text-sm"></div>
			<div class="flex gap-2 mb-6">
				<button id="tab-login"
					class="flex-1 py-2 rounded bg-purple-600 text-white">
					Login
				</button>
				<button id="tab-signup"
					class="flex-1 py-2 rounded bg-gray-800 text-gray-400">
					Sign Up
				</button>
			</div>
			<div class="space-y-4">
				<input id="input-name" type="text" placeholder="Full Name"
					class="w-full px-4 py-3 rounded bg-gray-800 border border-gray-700 focus:border-purple-500 focus:outline-none hidden" />
				<input id="input-email" type="email" placeholder="Email"
					class="w-full px-4 py-3 rounded bg-gray-800 border border-gray-700 focus:border-purple-500 focus:outline-none" />
				<input id="input-password" type="password" placeholder="Password"
					class="w-full px-4 py-3 rounded bg-gray-800 border border-gray-700 focus:border-purple-500 focus:outline-none" />
				<button id="btn-auth"
					class="w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded font-semibold transition-all">
					Login
				</button>
			</div>
			<button id="btn-back-home"
				class="w-full mt-4 text-gray-400 hover:text-purple-400 transition-colors">
				‚Üê Back to Home
			</button>
		</div>
	</div>

	<!-- Scripts -->
	<script src="config.js"></script>
	<script src="database.js"></script>
	<script src="api.js"></script>
	<script src="auth.js"></script>
	<script>
		// Gate based on auth token: if logged in, go to dashboard
		(function(){
			function init(){
				var params = new URLSearchParams(window.location.search);
				if (params.get('logout') === '1') { try { localStorage.removeItem('authToken'); } catch(_) {} }
				var token = null; try { token = localStorage.getItem('authToken'); } catch(_) {}
				var force = params.get('force') === '1';
				if (token && !force) { window.location.replace('/dashboard'); return; }
				var shell = document.getElementById('app-shell'); if (shell) { shell.classList.add('hidden'); shell.style.display='none'; }
				var hero = document.getElementById('view-hero'); if (hero) hero.classList.remove('hidden');
				var auth = document.getElementById('view-auth'); if (auth) auth.classList.add('hidden');
			}
			if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init); else init();
		})();
	</script>
	<script src="app.js"></script>
</body>
</html>
